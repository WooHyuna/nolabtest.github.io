{% assign emptyarray = "" | split: "," %}
{% assign data = site.data[include.data]
  | default: site[include.data]
  | default: emptyarray
  | data_filter: include.filter
%}

<!-- ðŸ”¹ ì—°êµ¬ì‹¤ ë…¼ë¬¸ ì—°ë„ë³„ ì •ë¦¬ -->
{% assign years = data | group_by_exp: "d", "d.date | date: '%Y'" | sort: "name" | reverse %}

{% for year in years %}
  <h3 id="{{ year.name }}">{{ year.name }}</h3>
  {% assign data = year.items | sort: "date" | reverse %}

  {% for d in data %}
    {% assign style = d.style | default: include.style %}

    {%
      include {{ include.component | append: ".html" }}
      title=d.title
      authors=d.authors
      link=d.link
      journal=d.journal
      style=style
    %}
  {% endfor %}
{% endfor %}

<!-- ðŸ”¹ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ë¦¬ìŠ¤íŠ¸ ì¶œë ¥ -->
{% for item in site.posts %}
  <article class="blog-post">
    <!-- ðŸ”¹ ì œëª© -->
    <h2><a href="{{ item.url | relative_url }}">{{ item.title }}</a></h2>

    <!-- ðŸ”¹ ìž‘ì„±ìž & ë‚ ì§œ -->
    <p><strong>By:</strong> {{ item.author }}</p>
    <p><strong>Date:</strong> {{ item.date | date: "%B %d, %Y" }}</p>

    <!-- ðŸ”¹ ë³¸ë¬¸ ìš”ì•½ -->
    <p>{{ item.excerpt }}</p>

    <!-- ðŸ”¹ ê°¤ëŸ¬ë¦¬ ì¶œë ¥ -->
    {% if item.gallery %}
      <div class="post-gallery">
        {% assign images = item.gallery | split: ", " %}
        {% for img in images limit: 3 %}
          <img src="{{ '/images/Pictures/' | append: img | relative_url }}" alt="Gallery Image">
        {% endfor %}
      </div>
    {% endif %}

    <!-- ðŸ”¹ ìžì„¸ížˆ ë³´ê¸° ë²„íŠ¼ -->
    <a href="{{ item.url | relative_url }}">Read more...</a>
  </article>
{% endfor %}
